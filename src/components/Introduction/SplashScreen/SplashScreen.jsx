import { useState } from "react"
import { Button } from "@/components/Button/Button"

import { getGame } from "@/database/gamecode"
import { useDispatch } from "react-redux"
import { changeGameCode } from "@/store/reducers/userReducer"
import { startExperience } from "@/store/reducers/userReducer"

import "./SplashScreen.scss"

export const SplashScreen = ({ setShowIntroduction }) => {
  const [code, setCode] = useState(1)
  const dispatch = useDispatch()

  const onSubmit = async () => {
    console.log(code)
    try {
      const data = await getGame(code)
      dispatch(changeGameCode(data.game_code))
      dispatch(startExperience())
    } catch (e) {
      console.error(e)
    }
  }

  return (
    <div className="SplashScreen">
      <h1 className="SplashScreen__title">
        <svg
          width="916"
          height="596"
          viewBox="0 0 916 596"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_8_176)">
            <path
              d="M95.6664 248.708C88.5443 245.933 79.9884 244.874 70.0457 245.556C47.9037 247.015 25.7853 248.614 3.69033 250.355C2.20949 254.895 1.48083 257.176 0 261.716C1.48083 269.056 2.20949 272.749 3.69033 280.088V381.095C19.909 379.825 27.9948 379.237 44.2369 378.061C44.9656 373.521 45.3416 371.239 46.0703 366.676C45.3416 359.336 44.9656 355.667 44.2369 348.351V344.282C52.3462 343.694 56.3891 343.411 64.4984 342.87C81.4692 341.718 94.5852 337.131 103.87 328.992C113.154 320.853 117.785 308.127 117.785 290.767C117.785 279.194 115.881 269.973 112.073 263.128C108.265 256.259 102.789 251.46 95.6664 248.708ZM73.3599 303.775C71.6205 305.798 69.1995 307.092 66.0733 307.68C62.9471 308.268 59.2098 308.692 54.9083 308.997C50.6303 309.28 48.4914 309.444 44.2369 309.75C43.4847 298.859 43.1322 293.425 42.38 282.534C47.1045 282.205 49.4551 282.04 54.1796 281.711C58.4811 281.405 62.2654 281.382 65.5092 281.593C68.7764 281.805 71.315 282.84 73.1719 284.675C75.0053 286.533 75.9455 289.732 75.9455 294.272C75.9455 298.812 75.0758 301.752 73.3599 303.775Z"
              fill="#fff3e7"
            />
            <path
              d="M230.704 329.955C229.459 328.968 228.824 328.474 227.578 327.486C234.465 323.651 239.683 318.218 243.256 311.184C246.829 304.174 248.615 295.306 248.615 284.58C248.615 273.03 246.711 263.762 242.904 256.823C239.072 249.883 233.596 244.944 226.473 242.027C219.328 239.11 210.772 237.863 200.806 238.31C180.779 239.181 170.742 239.675 150.716 240.733C145.333 243.344 142.63 244.661 137.247 247.272C136.119 256.917 135.532 261.715 134.403 271.336V372.367C150.622 371.45 158.755 371.026 174.973 370.25C175.726 365.71 176.078 363.429 176.83 358.889C176.078 351.55 175.726 347.856 174.973 340.517V336.448C178.899 336.26 180.85 336.166 184.752 335.977C192.884 349.127 196.951 355.69 205.06 368.862C224.617 368.016 234.395 367.639 253.975 366.933V355.854C249.767 352.255 247.652 350.444 243.444 346.821C238.344 340.07 235.805 336.683 230.704 329.955ZM204.143 296.6C202.404 298.599 199.983 299.846 196.857 300.34C193.707 300.858 189.993 301.21 185.692 301.399C181.414 301.61 179.275 301.704 174.973 301.916C174.245 291.025 173.869 285.568 173.14 274.677C177.865 274.441 180.215 274.324 184.94 274.112C189.241 273.9 193.025 273.947 196.293 274.23C199.56 274.512 202.098 275.618 203.955 277.499C205.789 279.381 206.729 282.604 206.729 287.167C206.729 291.472 205.859 294.624 204.143 296.6Z"
              fill="#fff3e7"
            />
            <path
              d="M378.881 356.866C372.394 345.74 369.15 340.188 362.639 329.062C342.213 329.391 331.988 329.626 311.562 330.12V312.949C319.625 313.49 323.644 313.772 331.683 314.337C341.884 314.101 346.985 314.007 357.163 313.843V283.357C338.923 283.686 329.802 283.874 311.562 284.321V269.549C324.326 268.561 330.719 268.091 343.483 267.173C350.981 267.714 354.742 267.973 362.24 268.514C363.932 257.435 364.802 251.907 366.494 240.827C364.379 237.864 363.321 236.382 361.206 233.441C351.451 233.606 341.673 233.794 331.918 234.006C336.69 231.418 341.837 228.643 347.972 225.349V214.105C328.956 214.458 319.46 214.67 300.444 215.188C297.741 223.162 295.767 228.925 293.722 234.947C286.012 235.158 278.302 235.394 270.593 235.652V336.848C269.112 344.281 268.36 347.998 266.879 355.431C268.36 359.806 269.112 361.994 270.593 366.393C304.981 365.358 339.369 364.558 373.781 363.993C375.826 361.147 376.837 359.712 378.881 356.866Z"
              fill="#fff3e7"
            />
            <path
              d="M615.133 234.923C592.897 234.335 581.803 234.077 559.567 233.7C550.94 257.011 542.314 280.346 533.711 303.657C528.234 305.821 525.507 306.88 520.054 309.044V332.496C519.584 344.987 519.349 351.221 518.855 363.688C532.771 363.829 539.728 363.923 553.643 364.158C556.816 353.197 558.415 347.739 561.588 336.778C581.614 337.13 591.604 337.366 611.631 337.883C615.321 348.986 617.178 354.537 620.868 365.64C636.875 366.087 644.891 366.346 660.921 366.91V345.293C655.233 334.613 652.389 329.274 646.701 318.594C636.194 290.72 625.663 262.822 615.133 234.923ZM573.787 304.692C578.441 290.085 580.768 282.793 585.422 268.185C586.95 268.232 587.726 268.232 589.277 268.279C594.166 283.075 596.611 290.484 601.476 305.304C590.405 305.045 584.858 304.904 573.787 304.692Z"
              fill="#fff3e7"
            />
            <path
              d="M735.856 295.213V324.381C742.273 324.687 745.469 324.852 751.91 325.181V335.319C750.311 335.86 748.337 336.284 745.986 336.613C743.659 336.919 740.698 336.99 737.148 336.825C727.793 336.378 720.554 333.673 715.453 328.709C710.352 323.746 707.79 315.348 707.79 303.54C707.79 295.777 709.13 289.85 711.763 285.71C714.419 281.57 717.945 278.77 722.387 277.312C726.806 275.853 731.672 275.242 736.96 275.501C753.273 281.24 761.429 284.134 777.718 289.967C782.89 277.241 785.475 270.89 790.646 258.188C780.61 251.79 775.58 248.59 765.543 242.216C761.5 241.016 756.94 239.981 751.91 239.111C746.856 238.24 741.309 237.676 735.292 237.37C726.195 236.947 717.451 237.535 709.083 239.158C700.715 240.757 693.241 243.909 686.659 248.567C680.078 253.224 674.883 259.881 671.075 268.467C667.244 277.077 665.34 288.156 665.34 301.682C665.34 315.207 667.173 326.616 670.793 335.508C674.413 344.376 679.561 351.386 686.213 356.584C692.841 361.759 700.668 365.499 709.647 367.781C718.626 370.086 728.475 371.498 739.17 372.015C748.878 372.462 757.504 372.368 765.002 371.639C772.5 370.933 778.612 370.11 783.36 369.145C788.084 368.157 791.14 367.475 792.48 367.075V328.286C794.102 320.759 794.924 317.019 796.546 309.491C795.724 305.022 795.324 302.787 794.501 298.294C771.043 296.954 759.314 296.318 735.856 295.213Z"
              fill="#fff3e7"
            />
            <path
              d="M913.579 369.38C914.307 360.136 914.683 355.502 915.412 346.257C892.212 344.423 880.601 343.576 857.401 341.976V324.804C865.416 326.098 869.436 326.757 877.475 328.074C887.652 328.803 892.753 329.18 902.907 329.956V299.494C884.714 298.082 875.594 297.424 857.401 296.177V276.959C871.175 278.535 878.062 279.335 891.86 280.981C895.903 280.793 897.924 280.675 901.967 280.487C906.104 279.241 908.149 278.605 912.286 277.359C912.921 266.609 913.25 261.222 913.884 250.472C881.423 247.932 848.963 245.65 816.455 243.65V344.846C814.974 352.162 814.245 355.808 812.765 363.1C814.245 367.616 814.974 369.874 816.455 374.391C849.668 376.531 882.834 378.86 916 381.377C915.036 376.578 914.566 374.179 913.579 369.38Z"
              fill="#fff3e7"
            />
            <path
              d="M566.406 492.781C557.827 491.135 544.805 488.971 534.533 487.348C532.511 487.018 531.031 485.278 531.031 483.208V477.703C530.843 470.27 529.785 458.367 525.671 444.701C519.772 425.106 509.476 408.075 495.115 394.079C485.524 384.741 477.086 374.649 469.846 363.899C469.541 363.452 469.235 363.006 468.953 362.559C476.357 360.677 482.492 357.807 487.358 353.949C496.83 346.422 501.579 336.519 501.579 324.216C501.579 317.442 500.168 311.561 497.324 306.621C494.503 301.681 489.849 297.259 483.385 293.354C476.922 289.449 468.178 285.639 457.248 281.946C455.955 281.522 454.733 281.099 453.581 280.675C447.305 278.464 442.815 276.629 440.183 275.218C437.033 273.571 435.458 271.454 435.458 268.867C435.458 266.279 437.033 264.609 440.183 264.068C440.982 263.927 441.875 263.856 442.862 263.856C446.788 264.844 450.314 265.738 453.581 266.538C466.109 269.714 475.135 272.042 490.131 275.924C493.822 264.727 495.679 259.128 499.369 247.931C490.273 241.721 485.736 238.64 476.639 232.477C474.312 232.054 471.351 231.677 467.707 231.395C475.723 222.244 484.514 213.729 493.117 205.379L496.102 202.509C501.884 196.91 506.914 191.171 511.404 185.008C512.085 184.09 513.12 183.479 514.271 183.338C533.898 180.985 551.128 175.904 565.56 168.212C578.041 161.532 588.524 152.875 596.657 142.478C602.863 134.575 607.728 125.706 611.066 116.133C611.489 114.886 611.889 113.663 612.218 112.51C612.57 111.357 612.406 110.134 611.795 109.099L609.938 106.088C608.128 103.124 603.732 103.548 602.487 106.77C601.241 109.946 600.019 112.934 598.961 115.403C598.914 115.497 598.89 115.592 598.843 115.662C597.01 120.461 594.354 125.848 590.569 131.375C584.011 140.879 575.315 148.924 564.714 155.275C554.512 161.367 542.478 165.931 528.821 168.847C525.46 169.577 522.804 166.119 524.214 162.99C532.347 144.854 535.708 125.118 534.157 104.112C532.888 86.9407 528.633 73.3915 525.953 66.3581C525.483 65.1349 525.648 63.7941 526.33 62.665C528.139 59.7952 529.785 56.949 531.266 54.1497C534.274 48.5042 536.907 42.8587 539.046 37.3309C539.563 36.1077 540.01 34.861 540.456 33.6378C541.067 31.9441 541.561 30.4622 541.937 29.2155C542.525 27.3571 541.726 25.3342 540.033 24.3697C538.952 23.7581 537.847 23.1465 536.766 22.5585C534.439 21.3118 531.571 22.4879 530.772 25.0049C530.655 25.3577 530.537 25.687 530.443 25.9928C530.278 26.4633 530.161 26.8632 530.067 27.1454C530.02 27.2631 529.996 27.4042 529.949 27.5218C529.855 27.7806 529.761 28.0393 529.667 28.3216C529.291 29.3566 528.868 30.5327 528.351 31.85C526.706 36.1077 524.261 41.7296 520.853 48.1279C513.449 62.0534 499.769 82.5419 476.616 101.149C470.552 106.041 465.051 111.452 460.209 117.309C457.694 120.367 452.782 118.65 452.782 114.698V4.2106C452.782 1.90536 450.925 0.0235229 448.645 0.0235229C448.057 0 447.469 0 446.882 0C446.294 0 445.707 0 445.119 0.0235229C442.839 0.0235229 440.982 1.90536 440.982 4.2106V114.698C440.982 118.65 436.069 120.367 433.578 117.309C428.712 111.452 423.236 106.041 417.148 101.149C393.995 82.5419 380.315 62.0534 372.911 48.1279C369.502 41.7296 367.058 36.1077 365.413 31.85C364.895 30.5327 364.472 29.3566 364.096 28.3216C364.002 28.0393 363.908 27.7806 363.814 27.5218C363.767 27.4042 363.744 27.2631 363.697 27.1454C363.603 26.8632 363.485 26.4633 363.321 25.9928C363.227 25.687 363.109 25.3577 362.992 25.0049C362.216 22.4879 359.325 21.3118 357.021 22.5585C355.916 23.1465 354.812 23.7581 353.73 24.3697C352.038 25.3342 351.239 27.3571 351.827 29.2155C352.226 30.4622 352.696 31.9441 353.307 33.6378C353.754 34.861 354.201 36.1077 354.718 37.3309C356.857 42.8587 359.489 48.5042 362.498 54.1497C363.979 56.949 365.648 59.7952 367.434 62.665C368.139 63.7941 368.28 65.1349 367.81 66.3581C365.154 73.3915 360.9 86.9407 359.607 104.112C358.055 125.118 361.417 144.854 369.549 162.99C370.96 166.119 368.304 169.577 364.942 168.847C351.286 165.931 339.275 161.367 329.05 155.275C318.449 148.924 309.752 140.879 303.194 131.375C299.41 125.848 296.754 120.461 294.92 115.662C294.873 115.592 294.85 115.497 294.803 115.403C293.745 112.934 292.523 109.946 291.3 106.77C290.055 103.548 285.636 103.124 283.826 106.088L281.992 109.099C281.358 110.134 281.217 111.357 281.546 112.51C281.898 113.663 282.274 114.886 282.698 116.133C286.035 125.706 290.901 134.575 297.106 142.478C305.239 152.875 315.722 161.532 328.204 168.212C342.636 175.904 359.865 180.985 379.516 183.338C380.644 183.479 381.678 184.09 382.36 185.008C386.873 191.171 391.879 196.91 397.662 202.509L400.647 205.379C409.932 214.388 419.451 223.609 427.96 233.583C420.133 235.558 413.598 238.569 408.31 242.639C398.108 250.472 392.984 260.822 392.984 273.618C392.984 281.005 394.489 286.909 397.521 291.308C400.529 295.707 404.901 299.282 410.637 302.081C416.348 304.857 423.33 307.609 431.415 310.079C434.659 311.067 437.597 311.937 440.183 312.761C443.121 313.655 445.636 314.478 447.657 315.184C450.102 316.054 452.076 316.877 453.581 317.677C454.427 318.124 455.132 318.547 455.696 318.971C457.224 320.123 458 321.582 458 323.299C458 325.463 456.519 326.945 453.581 327.745C451.818 328.239 449.561 328.474 446.741 328.474C444.602 328.474 442.416 328.403 440.183 328.239C436.775 327.956 433.272 327.486 429.652 326.78C423.682 325.651 417.806 324.052 412.023 322.005C406.241 319.959 401 317.677 396.322 315.136V353.738C398.531 355.549 402.175 357.36 407.205 359.171C412.141 360.912 417.806 362.37 424.199 363.476C424.105 363.617 424.011 363.758 423.917 363.899C416.678 374.649 408.239 384.741 398.649 394.079C384.287 408.075 373.992 425.106 368.092 444.701C363.979 458.367 362.921 470.27 362.733 477.703V483.208C362.733 485.278 361.252 487.018 359.231 487.348C348.959 488.971 335.937 491.135 327.358 492.781C325.054 493.228 323.597 495.463 324.067 497.745L325.242 503.39C325.712 505.625 327.875 507.06 330.108 506.636C337.559 505.202 348.465 503.367 357.914 501.861C360.453 501.438 362.733 503.414 362.733 505.978V529.501C362.733 531.1 363.65 532.582 365.084 533.264C366.846 534.111 368.586 534.911 370.372 535.711C373.146 536.91 376.249 534.887 376.249 531.877V502.685C376.249 500.591 377.823 498.827 379.892 498.545C381.678 498.309 383.418 498.098 385.133 497.886C393.619 496.827 402.175 495.957 410.59 495.275C418.911 494.64 426.855 492.17 433.93 488.194C436.751 486.618 440.206 488.571 440.206 491.794V591.789C440.206 594.095 442.04 595.953 444.343 595.977C445.189 595.977 446.036 595.977 446.882 595.977C447.728 595.977 448.574 595.977 449.42 595.977C451.724 595.953 453.557 594.095 453.557 591.789V491.794C453.557 488.571 457.013 486.618 459.833 488.194C466.908 492.17 474.853 494.64 483.174 495.275C491.589 495.957 500.145 496.827 508.63 497.886C510.346 498.098 512.109 498.309 513.872 498.545C515.964 498.827 517.515 500.591 517.515 502.685V531.877C517.515 534.887 520.641 536.91 523.415 535.711C525.178 534.911 526.941 534.111 528.68 533.264C530.114 532.582 531.031 531.1 531.031 529.501V505.978C531.031 503.414 533.334 501.438 535.849 501.861C545.298 503.367 556.228 505.202 563.656 506.636C565.912 507.06 568.051 505.625 568.522 503.39L569.697 497.745C570.19 495.463 568.71 493.228 566.406 492.781ZM452.782 154.193C452.782 153.675 452.876 153.134 453.064 152.64C459.387 136.268 470.081 121.684 484.067 110.346C494.456 102.019 503.859 92.7508 512.062 82.7301C514.248 80.0955 518.502 80.9894 519.325 84.3296C521.817 94.1622 523.862 107.429 522.71 122.343C520.641 149.418 508.912 173.505 487.851 193.946L484.467 197.24C476.263 205.19 467.895 213.353 460.115 222.08C457.53 224.973 452.782 223.209 452.782 219.328V154.193ZM409.297 197.24L405.912 193.946C384.851 173.505 373.122 149.418 371.054 122.343C369.926 107.429 371.947 94.1622 374.439 84.3296C375.261 80.9894 379.516 80.0955 381.702 82.7301C389.929 92.7508 399.307 102.019 409.696 110.346C423.682 121.684 434.377 136.268 440.7 152.64C440.888 153.134 440.982 153.675 440.982 154.193V219.328C440.982 223.209 436.234 224.973 433.672 222.08C425.868 213.353 417.5 205.19 409.297 197.24ZM440.206 462.884C440.206 463.848 439.901 464.789 439.29 465.542C431.885 474.598 421.191 480.291 409.485 481.208C400.859 481.89 392.068 482.784 383.465 483.89C382.618 483.984 381.772 484.078 380.926 484.196C378.434 484.501 376.249 482.549 376.249 480.056V477.703H376.201C376.742 462.39 381.302 429.669 408.028 403.677C419.874 392.15 424.011 388.74 432.497 375.073H432.52C434.777 371.544 440.206 373.144 440.206 377.307V462.884ZM517.515 477.703V480.056C517.515 482.549 515.329 484.501 512.838 484.196C511.991 484.078 511.145 483.984 510.299 483.89C501.696 482.784 492.905 481.89 484.279 481.208C472.573 480.291 461.878 474.598 454.474 465.542C453.863 464.789 453.557 463.848 453.557 462.884V377.307C453.557 373.144 459.01 371.544 461.243 375.049C461.267 375.049 461.267 375.049 461.267 375.049C469.752 388.716 473.889 392.127 485.736 403.653C512.461 429.646 517.021 462.366 517.562 477.68H517.515V477.703Z"
              fill="#fff3e7"
            />
          </g>
          <defs>
            <clipPath id="clip0_8_176">
              <rect width="916" height="596" fill="white" />
            </clipPath>
          </defs>
        </svg>
      </h1>
      <div className="SplashScreen__container">
        <Button
          text="Commencer"
          onClick={() => {
            setShowIntroduction(true)
          }}
          variant="main"
        />
        <Button text="Continuer" />
        <Button text="Bonus" />
      </div>
      {/* <div className={styles.loadGame}>
        <label htmlFor="tentacles">Continuer une partie :</label>
        <input
          type="number"
          id="tentacles"
          name="tentacles"
          min="1"
          max="999999"
          inputMode="numeric"
          defaultValue={code}
          onChange={(e) => setCode(e.target.value)}
        />
        <button onClick={onSubmit}>Envoyer</button>
      </div> */}
    </div>
  )
}
